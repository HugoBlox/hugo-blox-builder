{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://hugoblox.com/schemas/blocks/knowledge-categories.json",
  "title": "Knowledge Categories Block Schema",
  "description": "Schema for the Knowledge Categories block - lists taxonomy categories with counts and links",
  "allOf": [
    {
      "$ref": "../shared/schemas/base-block.json"
    },
    {
      "type": "object",
      "properties": {
        "block": {
          "const": "knowledge-categories",
          "description": "Block type identifier"
        },
        "content": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string"
            },
            "subtitle": {
              "type": "string"
            },
            "categories": {
              "type": "array",
              "description": "Categories to render; uses real taxonomy counts when available",
              "items": {
                "type": "object",
                "properties": {
                  "category": {
                    "type": "string",
                    "description": "Taxonomy category name used for lookup (defaults to `title` when omitted)"
                  },
                  "title": {
                    "type": "string",
                    "description": "Display label for the category card"
                  },
                  "description": {
                    "type": "string"
                  },
                  "icon": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "description": "Icon name (e.g., 'hero/book-open')"
                      },
                      "bg_color": {
                        "type": "string",
                        "description": "Background utility classes for the icon wrapper",
                        "default": "bg-primary-100 dark:bg-primary-900/50"
                      },
                      "text_color": {
                        "type": "string",
                        "description": "Text color classes for the icon",
                        "default": "text-primary-600 dark:text-primary-400"
                      }
                    },
                    "additionalProperties": false
                  },
                  "count": {
                    "type": "integer",
                    "description": "Optional override for item count (otherwise uses taxonomy count)"
                  }
                },
                "anyOf": [
                  {
                    "required": ["category"]
                  },
                  {
                    "required": ["title"]
                  }
                ],
                "additionalProperties": false
              }
            },
            "view_all": {
              "type": "object",
              "properties": {
                "text": {
                  "type": "string"
                },
                "link": {
                  "type": "string"
                }
              },
              "required": ["text", "link"],
              "additionalProperties": false
            }
          },
          "required": ["categories"],
          "additionalProperties": false
        }
      },
      "required": ["content"],
      "additionalProperties": true,
      "examples": [
        {
          "block": "knowledge-categories",
          "content": {
            "title": "Browse the knowledge base",
            "subtitle": "Jump into the most active categories.",
            "categories": [
              {
                "category": "research",
                "title": "Research",
                "description": "Lab notes, experiment trackers, and preprint workflows.",
                "icon": {
                  "name": "hero/beaker",
                  "bg_color": "bg-primary-100 dark:bg-primary-900/50",
                  "text_color": "text-primary-600 dark:text-primary-400"
                }
              },
              {
                "category": "tutorials",
                "title": "Tutorials",
                "description": "Hands-on guides for Hugo Blox.",
                "count": 18
              }
            ],
            "view_all": {
              "text": "See all categories",
              "link": "/categories/"
            }
          }
        }
      ]
    }
  ]
}
