{{- define "main" -}}

<div class="universal-wrapper pt-3">

  <h1>{{ i18n "page_not_found" }}</h1>

  {{/* Show search box if built-in search engine is enabled. */}}
  {{ if eq (lower site.Params.search.provider) "wowchemy" }}
  <form class="d-flex align-items-center mb-3">
    <input name="q" type="search" class="form-control" placeholder="{{ i18n "search_placeholder" }}" autocomplete="off">
  </form>
  {{ end }}

  {{/* Suggest recently published pages to the user. */}}

  <p>{{ i18n "404_recommendations" }}</p>

  {{ $search_queries := false }}
  {{ if isset site.Data (printf "search_queries.%s" .Site.Language.Lang) }}
    {{ $search_queries = index site.Data (printf "search_queries.%s" .Site.Language.Lang) }}
  {{ else if isset site.Data "search_queries" }}
    {{ $search_queries = site.Data.search_queries }}
  {{end}}

  {{ if $search_queries }}
    <h2>{{ i18n "search_common_queries" | default "Common searches" }}</h2>
    <ul class="fa-ul">
      {{ range $search_queries }}
        <li>
          <a href="{{.link | relURL}}"><i class="fa-li fas fa-search" aria-hidden="true"></i><span class="pl-1">{{.query | markdownify | emojify}}</span></a>
        </li>
      {{ end }}
    </ul>
  {{ else }}
    {{ $query := site.RegularPages }}
    {{ $count := len $query }}
    {{ if gt $count 0 }}
    <h2>{{ i18n "user_profile_latest" }}</h2>
    <ul>
      {{ range first 10 $query }}
        <li><a href="{{ .RelPermalink }}">{{ .Title }}</a></li>
      {{ end }}
    </ul>
    {{ end }}
  {{ end }}

</div>

{{- end -}}
